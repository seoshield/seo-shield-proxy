# Admin Dashboard

## Overview

The Admin Dashboard is a React-based web interface for managing and monitoring SEO Shield Proxy. It provides real-time insights into traffic, cache performance, and system health.

## Access

```
URL: http://localhost:3001
Password: admin123 (configurable via ADMIN_PASSWORD)
```

## Features

### Dashboard Overview

The main dashboard provides at-a-glance system status:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  SEO Shield Proxy - Admin Dashboard                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ โ
โ  โ   Traffic    โ  โ    Cache     โ  โ   Render     โ  โ   System     โ โ
โ  โ    15,234    โ  โ   94.2% Hit  โ  โ   5/5 Active โ  โ   Healthy    โ โ
โ  โ  requests    โ  โ     Rate     โ  โ    Queue: 3  โ  โ   256MB RAM  โ โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ โ
โ                                                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ  Traffic Over Time              โ  โ  Bot Distribution               โโ
โ  โ  [Line Chart]                   โ  โ  [Pie Chart]                    โโ
โ  โ                                 โ  โ  โข Googlebot: 45%               โโ
โ  โ                                 โ  โ  โข Bingbot: 25%                 โโ
โ  โ                                 โ  โ  โข Social: 20%                  โโ
โ  โ                                 โ  โ  โข Other: 10%                   โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Navigation

The dashboard uses a sidebar navigation:

| Section | Description |
|---------|-------------|
| **Dashboard** | Overview metrics and charts |
| **Traffic** | Detailed traffic analytics |
| **Cache** | Cache management and statistics |
| **Bot Rules** | Bot detection configuration |
| **Blocking** | Request blocking rules |
| **Hotfixes** | SEO hotfix injection rules |
| **Logs** | Audit and error logs |
| **Settings** | System configuration |

## Sections

### Traffic Analytics

View detailed traffic metrics:

- **Real-time stream**: Live request feed
- **Traffic charts**: Requests over time
- **Bot breakdown**: Traffic by bot type
- **Top paths**: Most requested URLs
- **Response times**: Performance metrics

**Filters:**

- Time range (1h, 24h, 7d, 30d, custom)
- Bot/Human toggle
- Path pattern
- Cache status

### Cache Management

Monitor and manage the cache:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Cache Analytics                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  Type: Redis                  Keys: 542                                  โ
โ  Hit Rate: 94.2%              Memory: 127 MB                            โ
โ                                                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ  Cache Entries                                                       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ  URL                    โ Size    โ TTL      โ Hits   โ Actions    โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ  /products/smartphone   โ 45 KB   โ 47 min   โ 156    โ [Clear]    โโ
โ  โ  /about                 โ 23 KB   โ 32 min   โ 89     โ [Clear]    โโ
โ  โ  /blog/post-1          โ 67 KB   โ 58 min   โ 234    โ [Clear]    โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                          โ
โ  [Clear All Cache]  [Warm Cache]  [Export Stats]                        โ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Actions:**

- **Clear single entry**: Remove specific URL from cache
- **Clear pattern**: Remove URLs matching pattern
- **Clear all**: Purge entire cache
- **Warm cache**: Pre-render specified URLs

### Bot Rules

Configure bot detection rules:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Bot Detection Rules                                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  [+ Add Rule]                                                            โ
โ                                                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ  Name          โ Pattern        โ Action  โ Active โ Actions       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ  Custom Bot    โ MyCrawler/*    โ Allow   โ โ      โ [Edit][Del]   โโ
โ  โ  Partner API   โ PartnerBot/*   โ Allow   โ โ      โ [Edit][Del]   โโ
โ  โ  Bad Scraper   โ Scraper/*      โ Deny    โ โ      โ [Edit][Del]   โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Rule actions:**

- `Allow`: Treat as bot, serve SSR
- `Deny`: Block request
- `Bypass`: Treat as human
- `Detect`: Use default detection

### Blocking Rules

Manage request blocking:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Blocking Rules                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  [+ Add Blocking Rule]                                                   โ
โ                                                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ  Name          โ Type      โ Pattern      โ Hits   โ Actions       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ  Bad Bot       โ UserAgent โ BadBot/*     โ 1,234  โ [Edit][Del]   โโ
โ  โ  Spam IP       โ IP        โ 192.168.1.*  โ 567    โ [Edit][Del]   โโ
โ  โ  Bad Referer   โ Header    โ spam.com     โ 89     โ [Edit][Del]   โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Block types:**

| Type | Description | Example |
|------|-------------|---------|
| `userAgent` | User-Agent header | `BadBot/*` |
| `ip` | IP address | `192.168.1.*` |
| `domain` | Request domain | `spam.com` |
| `url` | URL path | `/admin/*` |
| `header` | Custom header | `X-Bad-Header` |

### Hotfix Rules

Inject SEO fixes without code changes:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  SEO Hotfixes                                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  [+ Add Hotfix]                                                          โ
โ                                                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ  Name             โ URL Pattern   โ Type   โ Position โ Active     โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ  Canonical Tags   โ /products/*   โ meta   โ head     โ โ          โโ
โ  โ  Schema Markup    โ /blog/*       โ script โ body_end โ โ          โโ
โ  โ  Robots Override  โ /private/*    โ meta   โ head     โ โ          โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Hotfix types:**

- `meta`: Inject meta tags
- `script`: Inject JavaScript
- `style`: Inject CSS
- `custom`: Custom HTML injection

**Positions:**

- `head`: Inside `<head>` tag
- `body_start`: After `<body>` opening tag
- `body_end`: Before `</body>` closing tag

### Logs

View system logs:

#### Audit Logs

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Audit Logs                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  [Filter: All] [Category: All] [Search...]                              โ
โ                                                                          โ
โ  2025-11-25 10:30:00 โ INFO  โ cache โ Cache cleared for /products/*    โ
โ  2025-11-25 10:29:45 โ INFO  โ configโ Configuration updated            โ
โ  2025-11-25 10:28:30 โ WARN  โ security โ Failed login attempt          โ
โ  2025-11-25 10:27:15 โ INFO  โ systemโ Server started                   โ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### Error Logs

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Error Logs                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  2025-11-25 10:30:00 โ ERROR โ Render timeout: /product/123             โ
โ    Stack: TimeoutError: Navigation timeout of 30000 ms exceeded...      โ
โ    [Mark Resolved]                                                       โ
โ                                                                          โ
โ  2025-11-25 10:25:00 โ ERROR โ Network error: /api/data                 โ
โ    Stack: FetchError: request failed...                                 โ
โ    [Mark Resolved]                                                       โ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Settings

Configure system settings:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Settings                                                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                          โ
โ  Cache Configuration                                                     โ
โ  โโโ Cache TTL: [3600    ] seconds                                      โ
โ  โโโ Cache Type: [Redis โผ]                                              โ
โ  โโโ Max Keys: [1000     ]                                              โ
โ                                                                          โ
โ  Render Configuration                                                    โ
โ  โโโ Max Concurrent Renders: [5  ]                                      โ
โ  โโโ Puppeteer Timeout: [30000  ] ms                                    โ
โ  โโโ User Agent: [Mozilla/5.0...]                                       โ
โ                                                                          โ
โ  Cache Patterns                                                          โ
โ  โโโ No-Cache Patterns: [/checkout,/cart,/api/*]                        โ
โ  โโโ Cache By Default: [โ]                                              โ
โ                                                                          โ
โ  [Save Changes]                                                          โ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Real-Time Updates

The dashboard uses WebSocket connections for real-time updates:

### Traffic Stream

Live feed of incoming requests:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Real-Time Traffic Stream                                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  [โ Connected]  [Auto-scroll โ]  [Filter: All]                          โ
โ                                                                          โ
โ  10:30:45 โ ๐ค Googlebot โ /product/123 โ SSR โ HIT โ 45ms             โ
โ  10:30:44 โ ๐ค Human     โ /about       โ Proxy โ - โ 12ms              โ
โ  10:30:43 โ ๐ค Bingbot   โ /blog/post-1 โ SSR โ MISS โ 3245ms          โ
โ  10:30:42 โ ๐ค Facebook  โ /products    โ SSR โ HIT โ 23ms              โ
โ                                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Metrics Updates

Statistics update in real-time without page refresh.

## Authentication

### Login

1. Navigate to `http://localhost:3001`
2. Enter password (default: `admin123`)
3. Click "Login"

### Session

- JWT token stored in browser
- Token expires after 24 hours
- Auto-logout on token expiration

### Change Password

Update password via environment variable:

```bash
# .env
ADMIN_PASSWORD=your-new-secure-password
```

Restart the API server for changes to take effect.

## Development

### Running the Dashboard

```bash
cd admin-dashboard
npm install
npm run dev
```

Dashboard runs on `http://localhost:3001`

### Building for Production

```bash
cd admin-dashboard
npm run build
```

Build output is in `admin-dashboard/dist/`

### Technology Stack

- **React 18** with TypeScript
- **Vite** for bundling
- **Tailwind CSS** for styling
- **Recharts** for charts
- **WebSocket** for real-time updates

## Configuration

### API Endpoint

The dashboard connects to the API server. Configure the endpoint:

```typescript
// admin-dashboard/src/config/api.ts
export const API_BASE_URL = 'http://localhost:3190/shieldapi';
export const WS_URL = 'ws://localhost:3190/shieldapi/ws';
```

### Environment Variables

```bash
# admin-dashboard/.env
VITE_API_URL=http://localhost:3190/shieldapi
VITE_WS_URL=ws://localhost:3190/shieldapi/ws
```

## Troubleshooting

### Dashboard Won't Load

1. Check API server is running on port 3190
2. Verify CORS settings allow dashboard origin
3. Check browser console for errors

### WebSocket Disconnected

1. Check network connectivity
2. Verify API server is running
3. Check for proxy/firewall issues

### Authentication Fails

1. Verify password matches `ADMIN_PASSWORD`
2. Check JWT_SECRET is consistent
3. Clear browser storage and retry

### Metrics Not Updating

1. Check WebSocket connection status
2. Verify MongoDB is connected
3. Review API server logs

## Related Documentation

- [API Reference](api-reference.md) - API endpoints used by dashboard
- [Architecture](architecture.md) - System design
- [Configuration](configuration.md) - Configuration options
